<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page Projeto Arduino</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header class="hero">
        <div class="container">
            <h1>üí°Projeto Arduino</h1>
            <p>Furia das capivaras</p>
            <a href="#detalhes" class="cta-button">Ver Detalhes T√©cnicos</a>
        </div>
    </header>

    <main class="container">
        <section class="apresentacao">
            <h2>Vis√£o Geral do Projeto</h2>
            <br>Desenvolvemos um sistema de Jogo "Furia das capivaras" Interativo utilizando a plataforma
            Arduino. O objetivo foi aplicar conceitos de intera√ß√£o em tempo real, detec√ß√£o de entrada (bot√µes),
            controle de sa√≠da (LEDs e Buzzer) e l√≥gica de jogo.</p>
            <br></br>
            <p>Este projeto demonstra nossa capacidade de integrar hardware (sensores e atuadores) com software
                (programa√ß√£o C++ no Arduino).</p>
        </section>

        <section id="componentes" class="caracteristicas">
            <h2>üõ†Ô∏è Componentes Principais</h2>
            <ul class="component-list">
                <li>1x Arduino Uno R3</li>
                <li>1x Protoboard</li>
                <li>5x LEDs Vermelhos</li>
                <li>5x Bot√µes Pushbuttons</li>
                <li>1x Buzzer Piezoel√©trico</li>
                <li>5x Resistores de 220Œ©</li>
                <li>5x Resistores de 10kŒ©</li>
                <li>30x Fios Jumper</li>
            </ul>
            <img src="./img/prototipo.png" alt="Imagem do prototipo do arduino virtual">

            <div class="video-section">
                <h3>V√≠deo Demonstrativo</h3>
              <div class="video-wrap">
                <iframe id="project-video"
                  loading="lazy"
                  src="https://www.youtube-nocookie.com/embed/UvG2bsrNSIc?rel=0&modestbranding=1&iv_load_policy=3&controls=1"
                  title="Demonstra√ß√£o do projeto F√∫ria das capivaras"
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen></iframe>
                <div class="video-mask" aria-hidden="true"></div>
              </div>
            </div>
        </section>

        <section id="detalhes" class="detalhes-tecnicos">
            <h2>‚öôÔ∏è Funcionamento e C√≥digo</h2>
            <p>O Arduino gerencia a l√≥gica do jogo com cinco "capivaras" (representadas por LEDs e
                bot√µes). A l√≥gica principal √© escrita em C++ e reside no microcontrolador.</p>
            <h3>C√≥digo utilizado</h3>
            <div class="code-wrap collapsed">
                <button class="code-toggle" aria-expanded="false" aria-controls="codigo-exemplo">Mostrar c√≥digo
                    completo</button>
                <pre id="codigo-exemplo" tabindex="-1"><code>
const byte pinosLED[] = { 8, 9, 10, 11, 12 };
const byte pinosBotao[] = { 3, 4, 5, 6, 7 };
const byte pinoBuzzer = 13;
const byte numCapivaras = 5;

const int TEMPO_REACAO_INICIAL = 1000;
const int TEMPO_REACAO_MINIMO = 200;
const int PONTOS_LIMITE_REDUCAO = 40;
const int MAX_DELAY_BASE = 1500;
const int REDUCAO_TOTAL = TEMPO_REACAO_INICIAL - TEMPO_REACAO_MINIMO;

int tempoCapivaraAcesa = TEMPO_REACAO_INICIAL;
byte vidas = 3;
int pontuacao = 0;
bool jogoRodando = false;

bool algumBotaoPressionado();
void piscarTodosLEDs();
void apagarTodosLEDs();
void imprimirTelaInicial();
void imprimirInicioDeJogo();
void imprimirFimDeJogo(int pontuacao);
void imprimirStatus(bool acertou, int pontuacao, byte vidas, int tempoReacao);
void limparConsole();

void setup() {
  Serial.begin(9600);

  pinMode(pinoBuzzer, OUTPUT);

  for (int i = 0; i < numCapivaras; i++) {
    pinMode(pinosLED[i], OUTPUT);
    pinMode(pinosBotao[i], INPUT);
    digitalWrite(pinosLED[i], LOW);
  }

  randomSeed(analogRead(A0));

  imprimirTelaInicial();
}

void loop() {

  if (!jogoRodando) {
    if (algumBotaoPressionado()) {
      jogoRodando = true;
      tone(pinoBuzzer, 2000, 500);
      imprimirInicioDeJogo();
      delay(500);
    }
    return;
  }

  if (vidas <= 0) {
    tone(pinoBuzzer, 2000, 500);
    imprimirFimDeJogo(pontuacao);

    while (!algumBotaoPressionado()) {
      piscarTodosLEDs();
    }

    vidas = 3;
    pontuacao = 0;
    tempoCapivaraAcesa = TEMPO_REACAO_INICIAL;
    jogoRodando = false;
    limparConsole();
    imprimirTelaInicial();
    apagarTodosLEDs();
    delay(1000);
    return;
  }

  long reducao = (long)pontuacao * REDUCAO_TOTAL / PONTOS_LIMITE_REDUCAO;
  tempoCapivaraAcesa = TEMPO_REACAO_INICIAL - reducao;
  if (tempoCapivaraAcesa < TEMPO_REACAO_MINIMO) {
    tempoCapivaraAcesa = TEMPO_REACAO_MINIMO;
  }

  int reducaoMaxDelay = pontuacao * 25;
  int maxDelay = MAX_DELAY_BASE - reducaoMaxDelay;
  if (maxDelay < 500) {
    maxDelay = 500;
  }



  byte capivaraSorteada = random(0, numCapivaras);

  digitalWrite(pinosLED[capivaraSorteada], HIGH);
  long tempoInicio = millis();
  bool acertou = false;

  while (millis() - tempoInicio < tempoCapivaraAcesa) {
    if (digitalRead(pinosBotao[capivaraSorteada]) == HIGH) {
      acertou = true;
      break;
    }
  }

  digitalWrite(pinosLED[capivaraSorteada], LOW);

  if (acertou) {
    pontuacao++;
    tone(pinoBuzzer, 2000, 50);
    imprimirStatus(acertou, pontuacao, vidas, tempoCapivaraAcesa);
  } else {
    vidas--;
    imprimirStatus(acertou, pontuacao, vidas, tempoCapivaraAcesa);
  }

  delay(random(500, maxDelay + 1));
}

bool algumBotaoPressionado() {
  for (int i = 0; i < numCapivaras; i++) {
    if (digitalRead(pinosBotao[i]) == HIGH) {
      return true;
    }
  }
  return false;
}

void piscarTodosLEDs() {
  for (int i = 0; i < numCapivaras; i++) {
    digitalWrite(pinosLED[i], HIGH);
  }
  delay(250);
  for (int i = 0; i < numCapivaras; i++) {
    digitalWrite(pinosLED[i], LOW);
  }
  delay(250);
}

void apagarTodosLEDs() {
  for (int i = 0; i < numCapivaras; i++) {
    digitalWrite(pinosLED[i], LOW);
  }
}

void imprimirTelaInicial() {
  Serial.println(F("  _____  __       _             _              ____            _                          _ "));
  Serial.println(F(" |  ___|/_/_ _ __(_) __ _    __| | __ _ ___   / ___|__ _ _ __ (_)_   ____ _ _ __ __ _ ___| |"));
  Serial.println(F(" | |_ | | | | '__| |/ _` |  / _` |/ _` / __| | |   / _` | '_ \\| | \\ / / _` | '__/ _` / __| |"));
  Serial.println(F(" |  _|| |_| | |  | | (_| | | (_| | (_| \\__ \\ | |__| (_| | |_) | |\\ V / (_| | | | (_| \\__ \\_|"));
  Serial.println(F(" |_|   \\__,_|_|  |_|\\__,_|  \\__,_|\\__,_|___/  \\____\\__,_| .__/|_| \\_/ \\__,_|_|  \\__,_|___(_)"));
  Serial.println(F("                                                        |_|                                 "));
  Serial.println(F("Pressione qualquer botao para iniciar!"));
}

void imprimirInicioDeJogo() {
  Serial.println(F("Jogo comecou! VALENDO!"));
}

void imprimirFimDeJogo(int pontuacao) {
  Serial.println(F("\n###################################"));
  Serial.println(F("#          FIM DE JOGO            #"));
  Serial.println(F("###################################"));
  Serial.print(F("# Pontuacao Final: "));
  Serial.print(pontuacao);
  Serial.println(F("             #"));
  Serial.println(F("###################################"));
  Serial.println(F("Pressione qualquer botao para reiniciar."));
}

void imprimirStatus(bool acertou, int pontuacao, byte vidas, int tempoReacao) {
  if (acertou) {
    Serial.print(F(">> ACERTOU! | Pontos: "));
  } else {
    Serial.print(F(">> ERROU!   | Pontos: "));
  }
  Serial.print(pontuacao);
  Serial.print(F(" | Vidas: "));
  Serial.print(vidas);
  Serial.print(F(" | Reacao: "));
  Serial.print(tempoReacao);
  Serial.println(F("ms"));
}

void limparConsole() {
  for (int i = 0; i < 50; i++) {
    Serial.println();
  }
}
              </code></pre>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>¬© 2025 Furia das capivaras ‚Äî Todos os direitos reservados</p>
        </div>
    </footer>
    <script src="script.js"></script>
</body>

</html>
